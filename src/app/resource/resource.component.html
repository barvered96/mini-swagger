<div class="forming">
  <h2> Create a new resource</h2>
  <form class="row g-3">
    <div class="col-md-6">
      <label for="projectName" class="form-label">Available Projects</label>
      <select #projectName required id="projectName" ngModel name="projectName" #projectName="ngModel" class="form-select" aria-label="Default select example">
        <option selected></option>
        <ng-container *ngFor="let project of projects | async; index as i">
          <option value="{{i}}"> {{project.name}}</option>
        </ng-container>
      </select>
    </div>
    <div class="col-md-6">
      <label for="name" class="form-label">Resource Name</label>
      <input #resourceName placeholder="My New Resource" required minlength="3" type="text" class="form-control" ngModel name="name" #name="ngModel" id="name">
    </div>

    <div class="col-12">
      <label for="rest" class="form-label"> Action </label>
      <input #rest type="url" class="form-control" id="rest" placeholder="DELETE">
    </div>
    <div class="col-12">
      <label for="description" class="form-label">General Description</label>
      <input #desc type="text" class="form-control" id="description" placeholder="deletes an object">
    </div>
    <div class="col-12">
      <label for="Path" class="form-label"> Path </label>
      <input #path type="text" class="form-control" id="Path" placeholder="/delete">
    </div>

    <div class="col-12">
      <button *ngIf= "!(name.invalid && (name.dirty || name.touched) && (name.errors.minlength || name.errors.required)) && resourceName.value.length !== 0 && projectName.value != ''"
              (click)="addResource([projectName.value, resourceName.value, path.value, desc.value, rest.value])"  type="submit" class="btn btn-primary">Create</button>
    </div>
    <div *ngIf="name.invalid && (name.dirty || name.touched)"
         class="alert alert-danger">
      <div *ngIf="name.errors.minlength">
        Resource name must be at least 3 characters long and you must pick a project
      </div>

    </div>
  </form>
</div>
